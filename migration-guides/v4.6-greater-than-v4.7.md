# v4.6 -> v4.7

{% hint style="info" %}
This only applies for Next.js Pages dir setups
{% endhint %}

In the Next pages dir setup prior to v4.6 next/document was shipped to the client.

The new setup introduces dependency injection to circumvent the problem. &#x20;

{% tabs %}
{% tab title="You have no custom document" %}
{% code title="pages/_document.tsx" %}
```diff
import DefaultDocument from "next/document";
import { augmentDocumentWithEmotionCache } from "./_app";

-augmentDocumentWithEmotionCache(DefaultDocument);
+augmentDocumentWithEmotionCache({ DefaultDocument });

export default DefaultDocument;
```
{% endcode %}
{% endtab %}

{% tab title="You have a custom document" %}
{% code title="pages/_document.tsx" %}
```diff
+import DefaultDocument from "next/document";
import { Html, Head, Main, NextScript } from "next/document";
import { augmentDocumentWithEmotionCache } from "./_app";

export default function Document() {
  return (
    <Html>
      <Head />
      <body>
        <Main />
        <NextScript />
      </body>
    </Html>
  )
}

-augmentDocumentWithEmotionCache(Document);
+augmentDocumentWithEmotionCache({ DefaultDocument, Document });
```
{% endcode %}
{% endtab %}
{% endtabs %}

